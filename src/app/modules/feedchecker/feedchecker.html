<div class="feed-checker-container">
  <h3 class="title">FEED CHECKER</h3>

  <!-- radio buttons to choose mode -->
  <div class="radio-group">
    <label>
      <input
        type="radio"
        name="mode"
        value="channel"
        [ngModel]="mode()"
        (ngModelChange)="mode.set($event)"
      />
      <span>Channel</span>
    </label>

    <label>
      <input
        type="radio"
        name="mode"
        value="ip"
        [ngModel]="mode()"
        (ngModelChange)="mode.set($event)"
      />
      <span>IP</span>
    </label>
  </div>

  <!-- CHANNEL MODE -->
  <div *ngIf="mode() === 'channel'" class="channel-section">
    <h4 class="label">CHANNEL</h4>

    <div class="dropdown" (click)="toggleDropdown()">
      <input
        type="text"
        placeholder="Select Channel"
        [ngModel]="searchText()"
        (ngModelChange)="searchText.set($event); filterChannels()"
        (click)="$event.stopPropagation()"
      />
      <span class="arrow">&#9650;</span>

      <ul class="dropdown-list" *ngIf="dropdownOpen()">
        <li *ngFor="let channel of filteredChannels()" (click)="selectChannel(channel)">
          {{ channel }}
        </li>
      </ul>
    </div>
  </div>

  <!-- IP MODE -->
  <div *ngIf="mode() === 'ip'" class="ip-section">
    <h4 class="label">Enter IP & Port</h4>

    <div class="ip-port-row">
      <div class="form-group">
        <label class="input-label">IP ADDRESS</label>
        <input
          type="text"
          class="ip-input underline-input"
          placeholder="Enter IP Address"
          [ngModel]="ipAddress()"
          (ngModelChange)="ipAddress.set($event)"
        />
      </div>

      <div class="form-group">
        <label class="input-label">PORT ADDRESS</label>
        <input
          type="text"
          class="port-input underline-input"
          placeholder="Enter Port"
          [ngModel]="port()"
          (ngModelChange)="port.set($event)"
        />
      </div>
    </div>
  </div>

  <!-- button to run check -->
  <button class="check-btn" (click)="onCheck()">Check</button>

  <!-- output message -->
  <div class="output-box">
    <p *ngIf="output()">{{ output() }}</p>
  </div>
</div>
